var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,e){a instanceof String&&(a=String(a));for(var d=a.length,c=0;c<d;c++){var g=a[c];if(b.call(e,g,c,a))return{i:c,v:g}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,e,d){if(b){e=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var c=a[d];c in e||(e[c]={});e=e[c]}a=a[a.length-1];d=e[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6-impl","es3");
(function(a){a.themify_tiles={debounce:function(a,e,d){var c;return function(){var b=this,h=arguments;d&&!c&&a.apply(b,h);clearTimeout(c);c=setTimeout(function(){c=null;d||a.apply(b,h)},e)}},resizeParent:function(a){var b=a.children(".post"),d=b.last();a.css("height",d.outerHeight(!0)+d.css("position","absolute").position().top);setTimeout(function(){a.css("height",d.outerHeight(!0)+d.position().top);b.css({position:"absolute",opacity:1});a.addClass("loading-finish").removeClass("tiles_resing");a.trigger("auto_tiles_ready.themify")},
Math.round(1E3*parseFloat(a.css("transition-duration")))+300)},setBackstretch:function(b,e){"undefined"!==typeof a.fn.backstretch&&"undefined"!==typeof a.fn.imagesLoaded&&e.imagesLoaded().always(function(){e.find(".post:visible").each(function(){var d=a(this).find(".post-image"),c=d.find("img"),b=c.prop("src");b&&(d.backstretch(b),b=d.find("a"),b.remove(),c.remove(),d.find("img").wrap(b))})})}};setClasses=function(b,e){b.each(function(){var b=a(this).width(),c=a(this).height();b-10<=e?b===c?a(this).addClass("tiled-square-small"):
c>b&&a(this).addClass("tiled-portrait"):b>e&&(b>c?a(this).addClass("tiled-landscape"):a(this).addClass("tiled-square-large"))})};a.fn.extend({grids:{},grid:!1,curr_large_template:!1,small_screen_grid:!1,opts:{},using_small:!1,SetTemplateByCount:function(a,e,d){d=0<d?d:a.children(".post:visible").length;a=[];if(e[d])return e[d];if(10!=d&&10<d){var c=13<d?13:10,b=d%c,h=parseInt(d/c);if(0<h)for($items=e[c],c=0;c<h;c++)for(var k in $items)a.push($items[k]);if(0<b)for(k in e[b])a.push(e[b][k])}return 10<
d?a:e[d]},update:function(){var b=a(this).children(".post:visible");this.grid.tiles=[];var e=this.SetTemplateByCount(this,this.opts.grids[this.opts.default_grid],b.length);this.curr_large_template=Tiles.Template.fromJSON(e);this.grid.template=this.get_template();this.grid.isDirty=!0;this.grid.updateTiles(b);this.grid.redraw(this.opts.animate_template,a.themify_tiles.setBackstretch,a(this))},onresize:function(b,e){a.themify_tiles.resizeParent(e);a.themify_tiles.setBackstretch(b,e)},get_template:function(){var b;
this.curr_large_template||(this.curr_large_template=this.grids[this.opts.default_grid]);return this.opts.breakpoint?(b=a(this).width()<this.opts.breakpoint)&&!this.using_small?(this.using_small=!0,this.small_screen_grid):!b&&this.using_small?(this.using_small=!1,this.curr_large_template):b?this.small_screen_grid:this.curr_large_template:this.curr_large_template},themify_tiles:function(b,e){var d=a(this),c=this,g=!1;b.breakpoint&&b.small_screen_grid&&(this.small_screen_grid=Tiles.Template.fromJSON(b.small_screen_grid));
var h=d.children(".post");this.opts=b;var k=a.extend(!0,{},b.grids),g=k[b.default_grid]=this.SetTemplateByCount(d,k[b.default_grid],h.length);a.each(k,function(a){c.grids[a]=Tiles.Template.fromJSON(this)});this.grid=a.extend(new Tiles.Grid(d),{cellPadding:parseInt(c.opts.padding),template:c.get_template(),templateFactory:{get:function(a,b){for(var d=c.get_template().copy(),e=b-d.rects.length;0<e;){var f=[],g,l=c.get_template().copy();if(e<=l.rects.length)f=l.rects,e=0;else{for(g=0;g<l.rects.length;g++)f.push(l.rects[g].copy());
e-=l.rects.length}d.append(new Tiles.Template(f,l.numCols,l.numRows))}return d}},resizeColumns:function(){return this.template.numCols},createTile:function(a){a=new Tiles.Tile(a.id,a);a.$el.find(".post-image img").css("opacity","0");return a}});this.grid.updateTiles(h);this.grid.redraw(this.opts.animate_init,this.onresize,this);d.off("infiniteloaded.themify").on("infiniteloaded.themify",function(b,h){if(0<h.closest(".auto_tiles").length){var k=LayoutAndFilter?LayoutAndFilter.filterActive:!1;k&&(LayoutAndFilter.filterActive=
!1);var m=g[g.length-1],f=c.SetTemplateByCount(d,c.opts.grids[c.opts.default_grid],h.length),f=a.extend(!0,{},f);if(m===f[0]){for(var r=f[0].length-1,l={},t="XYZVTFK".split(""),n=0;n<r;n++){var p=f[0].charAt(n);"."!==p&&(l[p]=t[n])}for(var q in l)f[0]=f[0].replace(new RegExp(q,"g"),l[q]);f[1]&&f[1]===m&&(f[1]=f[0])}for(var u in f)g.push(f[u]);c.curr_large_template=Tiles.Template.fromJSON(g);k?(m=d.children(".post"),c.grid.tiles=[],c.grid.updateTiles(m)):c.grid.addTiles(h.get());c.grid.template=c.get_template();
c.grid.isDirty=!0;c.grid.redraw(c.opts.animate_template,c.onresize,c);k&&(LayoutAndFilter.filterActive=k);setClasses(h,e)}}).data("themify_tiles",this);a(window).on("debouncedresize",function(a){a.isTrigger||setTimeout(function(){c.grid.template=c.get_template();c.grid.isDirty=!0;c.grid.resize();c.addClass("tiles_resing");c.grid.redraw(b.animate_resize,c.onresize,c)},100)})}})})(jQuery);
