var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,d){a instanceof String&&(a=String(a));for(var c=a.length,b=0;b<c;b++){var f=a[b];if(e.call(d,f,b,a))return{i:b,v:f}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,d){a!=Array.prototype&&a!=Object.prototype&&(a[e]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,d,c){if(e){d=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var b=a[c];b in d||(d[b]={});d=d[b]}a=a[a.length-1];c=d[a];e=e(c);e!=c&&null!=e&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");var wp,themifySI;
(function(a){var e,d=a(window);themifySI.run={$point:null,wpMediaelement:null,$backTop:null,$footerwrap:null,constructor:function(){this.adReady=0<a("#tmpl-themify_ad").length;this.loadedAd=void 0;this.blockFetch=!1;this.$point=a('<div id="single-infinite-wrap" class="clearfix" />');a("#body").append(this.$point);this.$loadingImage=a("<img />",{src:themifySI.loading,"class":"single-infinite-loading"});this.$point.append(this.$loadingImage);_.bindAll(this,"atTheEnd","maybeChangeURL","loadMore","onScroll",
"toggleBackTop");if(themifySI.manual){var c=document.createElement("a");c.className="single-infinite-load load-more-button";c.textContent=themifySI.texts.load_more;e.on("click",".single-infinite-load",this.loadMore);this.$point.after(a("<p>",{id:"load-more"}).append(c))}else this.atTheEnd(),d.on("scroll.themifysi",_.throttle(this.atTheEnd,50));d.on("scroll.themifysi",_.throttle(this.onScroll,250));e.on("builder_toggle_frontend",this.builderToggle);e.on("postloaded.themify",this.googleAnalytics)},
googleAnalytics:function(a,b,f){"success"==b.type&&("object"===typeof _gaq&&_gaq.push(["_trackPageview",b.previous_post_url]),"function"===typeof ga&&ga("send","pageview",b.previous_post_url))},atTheEnd:function(){this.blockFetch||!this.isVisible(this.$point)||e.hasClass("themify_builder_active")||this.loadMore()},loadMore:function(){this.fetchAd();this.loadingStarted();this.getPreviousEntryURL()},onScroll:function(){this.maybeChangeURL();this.toggleBackTop()},toggleBackTop:function(){_.isNull(this.$backTop)||
(0<this.$backTop.length&&(this.isVisible(this.$footerwrap)||10>window.scrollY)?this.$backTop.addClass("infinite-back-top-hide"):this.$backTop.removeClass("infinite-back-top-hide"))},maybeChangeURL:function(){var c="",b="",f=this,g=a(".single_posts_wrapper");50>window.scrollY?(g=g.eq(0),c=g.data("title"),b=g.data("url")):g.each(function(){var g=a(this);f.isVisible(g)&&(c=g.data("title"),b=g.data("url"))});c&&(history.replaceState({},c,b),document.title=c)},afterPostLoad:function(a){this.insertAd();
"success"===a.type?this.loadAssets(a):this.loadingEnded()},insertHTML:function(c){var b=a(c.html),f=b.find(".themify_builder_content");0<f.length&&"undefined"!==typeof tbLoaderVars&&f.after(a('<a class="themify_builder_turn_on" href="#"><span class="dashicons dashicons-edit"></span>'+tbLoaderVars.turnOnBuilder+"</a>").on("click",function(a){a.preventDefault();document.location=c.previous_post_url+"#builder_active";document.location.reload()}));b.insertBefore(this.$point).fadeIn();this.maybeChangeURL();
"undefined"===typeof tbLocalScript||_.isUndefined(tbLocalScript.transitionSelectors)||_.each(tbLocalScript.transitionSelectors.split(","),function(b){a(b.trim()).css("visibility","visible")});"undefined"!==typeof ThemifyBuilderModuleJs&&(ThemifyBuilderModuleJs.document_ready(),ThemifyBuilderModuleJs.window_load());this.initializeMejs({},c);e.trigger("postloaded.themify",[c,b]);this.loadingEnded()},loadAssets:function(a){a.styles&&_.each(a.styles,function(a){themifySI.styles.push(a.handle);var b=document.createElement("link");
b.rel="stylesheet";b.href=a.src;b.id=a.handle+"-css";document.getElementsByTagName("head")[0].appendChild(b)},this);if(a.scripts){var b=a.scripts.length-1;_.each(a.scripts,function(c){var g=this,d=c.footer?"body":"head";themifySI.scripts.push(c.handle);if(c.extra_data){var f=document.createElement("script"),k=document.createTextNode("//<![CDATA[ \n"+c.extra_data+"\n//]]\x3e");f.type="text/javascript";f.appendChild(k);document.getElementsByTagName(d)[0].appendChild(f)}f=document.createElement("script");
f.type="text/javascript";f.src=c.src;f.id=c.handle;f.async=!1;f.onload=function(){0===b&&g.insertHTML(a);b--};f.onerror=function(){0===b&&g.insertHTML(a);b--};"wp-mediaelement"===c.handle&&e.unbind("postloaded.themify",this.initializeMejs);"wp-mediaelement"===c.handle&&"undefined"===typeof mejs?(this.wpMediaelement={},this.wpMediaelement.tag=f,this.wpMediaelement.element=d,setTimeout(this.maybeLoadMejs.bind(this),250)):document.getElementsByTagName(d)[0].appendChild(f)},this)}else this.insertHTML(a)},
maybeLoadMejs:function(){null!==this.wpMediaelement&&("undefined"===typeof mejs?setTimeout(this.maybeLoadMejs,250):(document.getElementsByTagName(this.wpMediaelement.element)[0].appendChild(this.wpMediaelement.tag),this.wpMediaelement=null,e.bind("postloaded.themify",{self:this},this.initializeMejs)))},initializeMejs:function(c,b){!b.html||-1===b.html.indexOf("wp-audio-shortcode")&&-1===b.html.indexOf("wp-video-shortcode")||"undefined"!==typeof mejs&&a(function(){var b={};"undefined"!==typeof _wpmejsSettings&&
(b.pluginPath=_wpmejsSettings.pluginPath);b.success=function(a){var b=a.attributes.autoplay&&"false"!==a.attributes.autoplay;"flash"===a.pluginType&&b&&a.addEventListener("canplay",function(){a.play()},!1)};a(".wp-audio-shortcode, .wp-video-shortcode").not(".mejs-container").mediaelementplayer(b)})},insertAd:function(){this.adReady&&_.isObject(this.loadedAd)&&this.$point.before(wp.template("themify_ad")(this.loadedAd)).fadeIn()},fetchAd:function(){var c=this;_.isUndefined(this.loadedAd)&&a.post(themifySI.admin_ajax_url,
{action:"themify_theme_fetch_ad",_ajax_nonce:themifySI.ajax_nonce},function(a){_.isObject(a)&&!_.isUndefined(a.success)&&a.success&&(c.loadedAd=_.isObject(a.data)?a.data:"")})},getPreviousEntryURL:function(){var c=this;a.post(themifySI.ajax_url,{action:"themify_theme_get_previous_entry",_ajax_nonce:themifySI.ajax_nonce,post_id:themifySI.post_id,styles:themifySI.styles,scripts:themifySI.scripts},function(a){if(_.isObject(a)&&!_.isUndefined(a.success)&&a.success){if(a=_.isObject(a.data)?a.data:"")c.afterPostLoad(a),
a.previous_post_id&&(themifySI.post_id=a.previous_post_id)}else c.$loadingImage.remove(),d.off("scroll.themifysi")})},loadingStarted:function(){0<this.$loadingImage.length&&this.$loadingImage.removeClass("js-hide-loading").addClass("js-show-loading");this.blockFetch=!0},loadingEnded:function(){0<this.$loadingImage.length&&this.$loadingImage.removeClass("js-show-loading").addClass("js-hide-loading");_.isNull(this.$backTop)&&(this.$footerwrap=a("#footerwrap"),this.$backTop=a(themifySI.back_top).on("click",
function(c){c.preventDefault();a("body,html").animate({scrollTop:0},800)}),a("body").append(this.$backTop));this.toggleBackTop();this.blockFetch=!1},isVisible:function(a){var b=d.scrollTop(),c=d.scrollLeft(),g=a.offset();var e=c+d.width();var h=b+d.height();g.right=g.left+a.outerWidth();g.bottom=g.top+a.outerHeight();return!(e<g.left||c>g.right||h<g.top||b>g.bottom)},builderToggle:function(){themifySI.post_id=themifySI.base_post_id;a("#layout").find(".single-divider-ad, .single-wrapper").not(".single-wrapper:first-child").remove()}};
a(document).ready(function(){e=a("body");themifySI.run.constructor()})})(jQuery);
