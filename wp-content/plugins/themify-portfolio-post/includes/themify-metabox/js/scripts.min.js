'use strict';jQuery(function(b){var k=function(e,c,a){var d=document.createElement("script");d.type="text/javascript";d.readyState?d.onreadystatechange=function(){if("loaded"==d.readyState||"complete"==d.readyState)d.onreadystatechange=null,a()}:d.onload=function(){a()};var g="type src htmlFor event charset async defer crossOrigin text onerror".split(" ");if("object"==typeof c&&!b.isEmptyObject(c))for(var f in c)c.hasOwnProperty(f)&&b.inArray(f,g)&&(d[f]=c[f]);d.src=e;document.getElementsByTagName(c.lazyLoad?
"body":"head")[0].appendChild(d)};b.loadScript=function(e,c,a){2===arguments.length&&"function"==typeof arguments[1]&&(a=arguments[1],c={});c=c||{};var d=b.Deferred();return"function"==typeof a&&d.done(function(){a()}),k(e,c,function(){d.resolve()}),d.promise()}});
window.Themify_Metabox=function(b){function k(c){var a="";b('input[type="checkbox"]',c).each(function(){a+=b(this).attr("id")+"="+b(this).val()+"&"});b('input[type="text"]',c).val(a.slice(0,-1))}var e={loadScript:function(c,a,d){d?a():b.loadScript(c).done(function(){a()})},init:function(){this.bind_events()},bind_events:function(){b(e.document_ready)},document_ready:function(){e.init_metabox_tabs();e.gallery_shortcode();e.repeater();e.enable_toggle();e.query_category();e.post_meta_checkbox();e.init_fields(b("body"));
e.pagination(b("body"));e.audioRemoveAction()},init_metabox_tabs:function(){b(".themify-meta-box-tabs").each(function(){var c=b(this),a=b(".ilc-htabs li",c);1<a.length?ilcTabs({ilctabs:"#"+c.attr("id")}):(b(".ilc-tab",c).show(),a.addClass("select"))});b(".ilc-htabs a").on("click",function(){e.set_cookie("themify-builder-tabs",b(this).attr("id"))});"undefined"!=typeof e.get_cookie("themify-builder-tabs")&&null!==e.get_cookie("themify-builder-tabs")&&b("#"+e.get_cookie("themify-builder-tabs")).trigger("click")},
init_fields:function(c){e.layout(c);e.color_picker(c);c.find(".themifyDatePicker").length&&e.loadScript(TF_Metabox.includes_url+"js/jquery/ui/datepicker.min.js",function(){e.loadScript(TF_Metabox.includes_url+"js/jquery/ui/slider.min.js",function(){e.loadScript(TF_Metabox.url+"js/jquery-ui-timepicker.min.js",function(){e.date_picker(c)},"undefined"!==typeof b.ui.timepicker)},"undefined"!==typeof b.fn.slider)},"undefined"!==typeof b.fn.datepicker);e.assignments(c);e.dropdownbutton(c);e.togglegroup(c);
b(document).triggerHandler("themify_metabox_init_fields",[e])},repeater:function(){b("body").on("click",".themify-repeater-add",function(c){c.preventDefault();var a=b(this).closest(".themify_field_row");c=a.find(".themify-repeater-rows");a=a.find(".themify-repeater-template").html();var d=1;c.find("> div").length&&(c.find("> div").each(function(){d=Math.max(d,b(this).data("id"))}),d++);a=b(a.replace(/__i__/g,d));a.find(".ajaxnonceplu").attr("id","");c.append(a);a.has(".plupload-upload-uic").length&&
a.find(".plupload-upload-uic").each(function(){themify_create_pluploader(b(this))});e.init_fields(c.find(".themify-repeater-row:last-child"))});b("body").on("click",".themify-repeater-remove-row",function(c){c.preventDefault();b(this).parent().remove()})},audioRemoveAction:function(){b("body").on("click","[data-audio-remove] a",function(c){c.preventDefault();var a=b(this).parent();c=a.data("audio-remove");var d=function(){a.parent().find(".themify_upload_field").val("");a.addClass("hide")};d();c.action=
"themify_remove_audio";b.post(ajaxurl,c,d)})},color_picker:function(c){"function"===typeof b.fn.minicolors&&(c.find(".colorSelectInput").each(function(){var a={},c=b(this).data("format");"rgba"==c?(a.format="rgb",a.opacity=!0):"rgb"==c&&(a.format="rgb");b(this).minicolors(a)}),c.find(".clearColor").on("click",function(){b(this).parent().find(".colorSelect").minicolors("value","");b(this).parent().find(".colorSelectInput").val("");b(this).hide()}))},date_picker:function(c){c.find(".themifyDatePicker").each(function(){var a=
b(this),c=a.data("label"),g=a.data("close"),f=a.data("dateformat"),h=a.data("timeformat"),e=a.data("timeseparator");b.fn.datetimepicker.call(a,{showOn:"both",showButtonPanel:!0,closeButton:g,buttonText:c,dateFormat:f,timeFormat:h,stepMinute:5,firstDay:a.data("first-day"),separator:e,onClose:function(c){""!=c&&b("#"+a.data("clear")).addClass("themifyFadeIn")},beforeShow:function(){b("#ui-datepicker-div").addClass("themifyDateTimePickerPanel")}});a.next().addClass("button")});c.find(".themifyClearDate").on("click",
function(a){a.preventDefault();a=b(this);b("#"+a.data("picker")).val("").trigger("change");a.removeClass("themifyFadeIn")})},assignments:function(c){c.find(".themify-assignments, .themify-assignment-inner-tabs").tabs();c.on("change",'.themify-assignments input[type="checkbox"]',function(){var a=b(this);a.is(":checked")?a.closest(".themify-assignments").find(".values").append('<input type="hidden" name="'+a.attr("data-name")+'" value="on" />'):a.closest(".themify-assignments").find('.values input[type="hidden"][name="'+
a.attr("data-name")+'"]').remove()})},layout:function(c){c.find(".preview-icon").each(function(){var a=b(this),c=a.parent(),g=c.find(".val"),f="",h="";if(0<a.closest(".group-hide").length){h="theme-settings";var e=a.closest(".group-hide");f=e.data("hide")}else 0<a.closest(".themify_field_row").length&&(h="custom-panel",e=a.closest(".themify_field_row"),"undefined"!==typeof e.data("hide")&&(f=e.data("hide")));a.click(function(b){b.preventDefault();c.find(".selected").removeClass("selected");a.addClass("selected");
g.val(a.find("img").attr("alt")).trigger("change");""!==f&&("custom-panel"==h?(b=e.nextUntil("[data-hide]"),b.add(b.find(".themify_field .hide-if")).not(".toggled-off").filter("."+f.replace(/\s/g,",.")).show().filter("."+g.val()).hide()):"theme-settings"==h&&e.find(".hide-if").filter("."+f.replace(/\s/g,",.")).show().filter("."+g.val()).hide())});if(""!==f)if("custom-panel"==h){var m=e.nextUntil("[data-hide]");m.add(m.find(".themify_field .hide-if")).not(".toggled-off").filter("."+f.replace(/\s/g,
",.")).filter("."+g.val()).hide()}else"theme-settings"==h&&e.find(".hide-if").filter("."+f.replace(/\s/g,",.")).show().filter("."+g.val()).hide()});c.find(".themify_field .preview-icon").on("click",function(a){a.preventDefault();b(this).parent().find(".selected").removeClass("selected");b(this).addClass("selected");b(this).parent().find(".val").val(b(this).find("img").attr("alt")).trigger("change")});c.find(".themify_field_row[data-hide]").each(function(){var a=b(this).data("hide");if("string"===
typeof a&&(a=a.split(" "),1<a.length)){var c=a.shift();c=c.split("|");var g=b("."+a.join(", ."));b("select, input",this).on("change",function(){var a=b(this).val();!c.includes(a)&&g.is(":visible")||g.toggle(!c.includes(a))}).trigger("change")}})},dropdownbutton:function(c){c.find(".dropdownbutton-group").each(function(){var a=b(this);a.on("mouseenter mouseleave",".dropdownbutton-list",function(a){a.preventDefault();var c=b(this);if(c.hasClass("disabled"))return!1;"mouseenter"==a.type&&(c.children(".dropdownbutton").is(":visible")||
c.children(".dropdownbutton").show());"mouseleave"==a.type&&c.children(".dropdownbutton").is(":visible")&&c.children(".dropdownbutton").hide()});a.on("click",".first-ddbtn a",function(b){b.preventDefault()});a.on("click",".ddbtn a",function(c){c.preventDefault();var d=b(this).find("img").attr("src"),g=b(this).data("val");c=b(this).closest(".dropdownbutton-list");var e=c.attr("id");b(this).closest(".dropdownbutton-list").find(".first-ddbtn img").attr("src",d);b(this).closest(".dropdownbutton").hide();
b("input#"+e).val(g);c.next().hasClass("ddbtn-all")&&(a.hasClass("multi-ddbtn")?(d=b(".multi-ddbtn-sub",a.parent().parent()),g=b(".multi-ddbtn-sub + input",a.parent().parent())):(g=c.next(),d=g.prev().siblings(".dropdownbutton-list"),g=g.siblings("input")),"yes"==c.next().val()?(d.addClass("disabled opacity-5"),d.each(function(){var a=b(this).data("def-icon");b(this).find(".first-ddbtn img").attr("src",a)}),g.val("")):d.removeClass("disabled opacity-5"))});var c=a.find("input.ddbtn-all");"yes"==c.val()&&
(a.hasClass("multi-ddbtn")?b(".multi-ddbtn-sub",a.parent().parent()).addClass("disabled opacity-5"):c.prev().siblings(".dropdownbutton-list").addClass("disabled opacity-5"))})},togglegroup:function(c){c.find(".themify_toggle_group_wrapper").each(function(){var a=b(this);a.find(".themify_toggle_group_inner").hide();a.on("click",".themify_toggle_group_label",function(a){var c=b(this),d=c.find("i");c=c.next();c.hasClass("is-activated")?(d.removeClass("ti-minus").addClass("tf_plus_icon"),c.hide().removeClass("is-activated")):
(c.show().addClass("is-activated"),d.removeClass("tf_plus_icon").addClass("ti-minus"));a.preventDefault()})})},gallery_shortcode:function(){var c=wp.media.gallery.shortcode,a=wp.media.gallery,d;b("body").on("click",".themify-gallery-shortcode-btn",function(g){var f=b(this).closest(".themify_field").find(".themify-gallery-shortcode-input");f.html()&&(f.val(f.html()),f.html(""),f.text(""));d?d.open():d=0<b.trim(f.val()).length?a.edit(b.trim(f.val())):wp.media.frames.file_frame=wp.media({frame:"post",
state:"gallery-edit",title:wp.media.view.l10n.editGalleryTitle,editing:!0,multiple:!0,selection:!1});wp.media.gallery.shortcode=function(b){var a=b.props.toJSON(),d=_.pick(a,"orderby","order");b.gallery&&_.extend(d,b.gallery.toJSON());d.ids=b.pluck("id");a.uploadedTo&&(d.id=a.uploadedTo);d._orderbyRandom&&(d.orderby="rand");delete d._orderbyRandom;d.ids&&"post__in"===d.orderby&&delete d.orderby;_.each(wp.media.gallery.defaults,function(b,a){b===d[a]&&delete d[a]});b=new wp.shortcode({tag:"gallery",
attrs:d,type:"single"});f.val(b.string());wp.media.gallery.shortcode=c;return b};d.on("update",function(b){b=wp.media.gallery.shortcode(b).string().slice(1,-1);f.val("["+b+"]")});0==b.trim(f.val()).length&&b(".media-menu").find(".media-menu-item").last().trigger("click");g.preventDefault()})},set_cookie:function(b,a){document.cookie=b+"="+a+"; path=/"},get_cookie:function(b){b+="=";for(var a=document.cookie.split(";"),c=0;c<a.length;c++){for(var g=a[c];" "==g.charAt(0);)g=g.substring(1,g.length);
if(0==g.indexOf(b))return g.substring(b.length,g.length)}return null},enable_toggle:function(){var c=b(".enable_toggle");0<c.length&&c.each(function(){var a=b(this).closest(".themify_write_panel");a.length||(a=b(this).closest("form"));b(".themify-toggle",a).hide().addClass("toggled-off")});b(".enable_toggle .preview-icon").on("click",function(a){var c=b(this).find("img").attr("alt");c=""!=b.trim(c)?"."+c+"-toggle":".default-toggle";b(this).closest(".inside").find(".themify-toggle").hide().addClass("toggled-off");
b(this).closest(".inside").find(c).show().removeClass("toggled-off");a.preventDefault()});b(".enable_toggle .preview-icon.selected").each(function(){var a=b(this).find("img").attr("alt");b(""!=a&&"default"!=a?"."+a+"-toggle":".default-toggle").show().removeClass("toggled-off")});b(".enable_toggle input[type=radio]").on("click",function(){var a=b(this).val();a=0!=a&&""!=a?"."+a+"-toggle":".default-toggle";b(this).siblings("input[type=radio]").each(function(){var a=b(this).val();0!=a&&""!==a&&b("."+
a+"-toggle").hide().addClass("toggled-off")});b(a).each(function(){b(this).show().removeClass("toggled-off");b(this).hasClass("enable_toggle_child")&&b(this).find("input[type=radio]:checked").siblings("input[type=radio]").each(function(){var a=b(this).val();setTimeout(function(){0!=a&&""!==a&&b("."+a+"-toggle").hide().addClass("toggled-off")},500)})})});c.each(function(){var a=b(this).find('input[type="radio"]:checked').val();b(0!=a&&""!==a?"."+a+"-toggle":".default-toggle").each(function(){b(this).show().removeClass("toggled-off");
b(this).hasClass("enable_toggle_child")&&b(this).find("input[type=radio]:checked").siblings("input[type=radio]").each(function(){var a=b(this).val();setTimeout(function(){0!=a&&""!==a&&b("."+a+"-toggle").hide().addClass("toggled-off")},500)})})});b('.enable_toggle input[type="checkbox"]').on("click",function(){var a=b(this).data("val");a=0!=a&&""!=a?"."+a+"-toggle":".default-toggle";b(this).closest(".inside").find(".themify-toggle").hide().addClass("toggled-off");b(this).prop("checked")&&b(this).closest(".inside").find(a).show().removeClass("toggled-off")});
b('.enable_toggle input[type="checkbox"]:checked').each(function(){var a=b(this).data("val");b(0!=a&&""!==a?"."+a+"-toggle":".default-toggle").show().removeClass("toggled-off")})},query_category:function(){function c(b,a){""!=a?b.closest(".inside").find(".themify_field_row").removeClass("query-field-hide"):b.closest(".inside").find(".themify_field_row").not(b.closest(".themify_field_row")).not(".query-field-visible").addClass("query-field-hide")}var a=b(".themify_field"),d=b(".themify-info-link");
a.find(".query_category").blur(function(){var a=b(this),d=a.val();b(this).parent().find(".val").val(d);c(a,d)}).keyup(function(){var a=b(this),d=a.val();b(this).parent().find(".val").val(d);c(a,d)});a.find(".query_category_single").change(function(){var a=b(this),d=a.val();a.parent().find(".query_category, .val").val(d);c(a,d)}).closest(".themify_field_row").addClass("query-field-visible");d.closest(".themify_field_row").addClass("query-field-visible");b(".query_category_single, .query_category").each(function(){var a=
b(this),d=a.val();c(a,d)});d.closest(".themify_field_row").removeClass("query-field-hide")},post_meta_checkbox:function(){b(".post-meta-group").each(function(){var c=b(this);b(".meta-all",c).prop("checked")&&b(".meta-sub",c).prop("disabled",!0).parent().addClass("opacity-7");c.on("click",".meta-all",function(){b(this).prop("checked")?b(".meta-sub",c).prop("disabled",!0).prop("checked",!1).parent().addClass("opacity-7"):b(".meta-sub",c).prop("disabled",!1).parent().removeClass("opacity-7")})});b(".custom-post-meta-group").each(function(){var c=
b(this),a=b('input[type="text"]',c).val(),d={},e=[],f=[];if("yes"===a)b(".meta-all",c).val("yes").prop("checked",!0),b(".meta-sub",c).val("yes").prop("disabled",!0).parent().addClass("opacity-7");else{f=a.split("&");for(a=0;a<f.length;a++)e=f[a].split("="),d[e[0]]=e[1];for(var h in d)d.hasOwnProperty(h)&&"yes"===d[h]&&b("#"+h,c).val("yes").prop("checked",!0);b(".meta-all",c).prop("checked")&&b(".meta-sub",c).prop("disabled",!0).prop("checked",!1).parent().addClass("opacity-7")}c.on("click",".meta-all",
function(){var a=b(this);a.prop("checked")?(b(".meta-sub",c).val("yes").prop("disabled",!0).prop("checked",!1).parent().addClass("opacity-7"),a.val("yes")):(b(".meta-sub",c).val("no").prop("disabled",!1).parent().removeClass("opacity-7"),a.val("no"));k(c)});c.on("click",".meta-sub",function(){var a=b(this);a.prop("checked")?a.val("yes"):a.val("no");k(c)})})},pagination:function(c){c.on("click","#themify_assignments_popup_show .themify-popup-visibility-tab",function(a){a.preventDefault();var c=b(this);
if(!c.data("active")){a=c.data("type");var e=c.parents("#themify_assignments_popup_show").find(".themify-assignment-type-options[data-type="+a+"]"),f=b("#popup_show-assignment-tab-pages").data("post-id");jQuery.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_inner_popup_page",type:a,post_id:f},beforeSend:function(){},success:function(a){e.html(a);c.data("active","on")}})}});c.on("click",".themify-assignment-pagination .page-numbers",function(a){a.preventDefault();a=b(this);var c=a.parents(".themify-assignment-options"),
e=a.parents(".themify-assignment-items-inner"),f=b(".themify-assignment-pagination",e),h=parseFloat(b(".themify-assignment-pagination .current",e).text()),l=1;a.hasClass("next")?l=h+1:a.hasClass("prev")?l=h-1:a.hasClass("page-numbers")&&(l=parseFloat(a.text()));var k=b(".themify-assignment-items-inner",c);b.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_popup_page_pagination",current_page:l,num_of_pages:e.data("pages")},beforeSend:function(){b(".tb_slider_loader",c).remove();b(".themify-assignment-items-page",
e).addClass("is-hidden");f.hide();k.append('<div class="tb_slider_loader"></div>')},success:function(a){b(".tb_slider_loader",c).remove();b(".themify-assignment-items-page-"+l,e).removeClass("is-hidden");f.html(a).show()}})})}};e.init();return e}(jQuery);
