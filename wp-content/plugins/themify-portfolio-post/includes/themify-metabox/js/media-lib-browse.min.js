'use strict';var themifyMediaLib={};
(function(c){themifyMediaLib={init:function(){themifyMediaLib.mediaUploader()},mediaUploader:function(){var a="";c("body").on("click",".themify-media-lib-browse",function(b){var d=c(this),f=d.data("submit"),e=d.data("type");a=wp.media.frames.file_frame=wp.media({title:c(this).data("uploader-title"),library:{type:e},button:{text:c(this).data("uploader-button-text")},multiple:!1});a.on("select",function(){var b=a.state().get("selection").first().toJSON();f.attach_id=b.id;var g=d.data("fields");c("#"+
g).val(b.url);c("body").trigger("themify_metabox_lib_selected",[d,b,a]);"image"===e?c.ajax({type:"POST",url:ajaxurl,data:f,dataType:"json",success:function(a){themifyMediaLib.setPreviewIcon(d.closest(".themify_field, .themify_field_row"),a.thumb)}}):("audio"===e||"video"===e)&&d.closest(".themify_field_row").find(".themify_featimg_remove").removeClass("hide")});a.open();b.preventDefault()})},setPreviewIcon:function(a,b){b=c('<a href="'+b+'" target="_blank"><img src="'+b+'" width="40" /></a>').fadeIn(1E3).css("display",
"inline-block");0<a.find(".themify_upload_preview").find("a").length&&a.find(".themify_upload_preview").find("a").remove();a.find(".themify_upload_preview").fadeIn().append(b);a.find(".themify_featimg_remove").removeClass("hide")}};c(themifyMediaLib.init)})(jQuery);
