jQuery.noConflict(),function(t,e,n){t(n).ready(function(){"use strict";var n="cryptoniq-paybox",o={a:n+"-",b:"#"+n+"-",c:"."+n+"-",d:"#"+n,e:"."+n,f:n,g:n.replace(/-/g,"_")};function a(){var e=t(o.c+"layer"),n=e.width(),a=o.a+"resize-",c=[780,750,660,480],i=-1;for(var s in c)e.hasClass(a+c[s])&&e.removeClass(a+c[s]),n<=c[s]&&i++;i>-1&&i<c.length&&e.addClass(a+c[i]),t(o.c+"preloader").fadeOut(1e3,function(){t(this).remove(),e.removeClass(o.a+"layer-mask")})}a(),t(e).resize(a);var c,i=t(o.b+"address").text(),s=t(o.b+"tx-bar"),r=t(o.b+"loader"),x=t(o.b+"alert"),d=s.data("coin"),p=s.data("step"),u=cryptoniq_paybox_ajax_data.url,l=cryptoniq_paybox_ajax_data.nonce,f=s.data("id"),h=s.data("time");function y(t){return(t<10?"0":"")+t}function b(e){var n=e,a=setInterval(function(){var e=Math.floor(Date.now()/1e3),c=n+43200-e,i=Math.floor(c%86400/3600),s=Math.floor(c%3600/60),r=Math.floor(c%60);t(o.b+"tx-counter").text(y(i)+":"+y(s)+":"+y(r)),c<0&&(clearInterval(a),t(o.b+"tx-counter").text(cryptoniq_paybox_notes.expire.new))},1e3)}function _(){r.fadeIn(150),t.ajax({type:"POST",dataType:"json",url:u,cache:!1,data:{action:o.g+"_checker",nonce:l,id:f},success:function(n){if(void 0!=n){var a=0,i=0,r=2;2!=p&&(t(o.c+"topbar-left").animate({marginLeft:"-80px"},500),s.hasClass(o.a+"tx-sending")&&s.removeClass(o.a+"tx-sending"),t(o.b+"check-button").remove()),1==n.found&&n.conf>=0&&(1!=n.expire||-1!=n.expire)?(i=n.conf,s.hasClass(o.a+"tx-checking-not-found")&&s.removeClass(o.a+"tx-checking-not-found"),s.hasClass(o.a+"tx-checking-found")||(x.text(cryptoniq_paybox_notes.yes),s.addClass(o.a+"tx-checking-found").delay(1e3).queue(function(t){1!=n.completed&&1!=n.status&&1!=n.expire&&-1!=n.expire&&(s.hasClass(o.a+"tx-checking-not-found")&&s.removeClass(o.a+"tx-checking-not-found"),s.hasClass(o.a+"tx-checking-found")||s.addClass(o.a+"tx-checking-found"),x.text(cryptoniq_paybox_notes.process)),t()}),setTimeout(function(){c="ETH"==d?cryptoniq_paybox_notes.txlink.eth:"DOGE"==d?cryptoniq_paybox_notes.txlink.doge:"LTC"==d?cryptoniq_paybox_notes.txlink.ltc:"ZEC"==d?cryptoniq_paybox_notes.txlink.zec:"DASH"==d?cryptoniq_paybox_notes.txlink.dash:cryptoniq_paybox_notes.txlink.btc,t("#cryptoniq-paybox-txid").show().find("a").attr("href",c+n.tx)},1500))):(s.hasClass(o.a+"tx-checking-found")&&s.removeClass(o.a+"tx-checking-found"),s.addClass(o.a+"tx-checking-not-found").find(x).text(cryptoniq_paybox_notes.no)),"ETH"==d?r=6:"DOGE"==d?r=2:"LTC"==d?r=2:"ZEC"==d?r=2:"DASH"==d&&(r=2),a=i/r*100,a=Number(a.toFixed(2)),t(o.b+"tx-conf-num").text(i),t(o.b+"tx-pg-pc").animate({width:a+"%"},1e3),1==n.expire||-1==n.expire?(-1==n.expire&&(x.text(cryptoniq_paybox_notes.expire.old),setTimeout(_,5e3)),1==n.expire&&x.text(cryptoniq_paybox_notes.expire.new),s.hasClass(o.a+"tx-checking-found")&&s.removeClass(o.a+"tx-checking-found"),s.addClass(o.a+"tx-checking-not-found")):1!=n.completed||1!=n.status||1==n.expire&&-1==n.expire?setTimeout(_,5e3):x.text(cryptoniq_paybox_notes.done).delay(1e3).queue(function(a){s.addClass(o.a+"tx-checking-done"),t(this).text(cryptoniq_paybox_notes.redirect),a(),setTimeout(function(){e.location.href=n.redirect},1e3)})}else setTimeout(_,5e3)},error:function(){s.hasClass(o.a+"tx-checking-found")&&s.removeClass(o.a+"tx-checking-found"),s.addClass(o.a+"tx-checking-not-found"),x.text(cryptoniq_paybox_notes.error)},complete:function(){r.fadeOut(150)}})}t(o.b+"qrcode").text("").qrcode({width:120,height:120,text:i}),new ClipboardJS(o.b+"address-copy"),t(o.b+"tooltip-button").click(function(){t(o.c+"instructions").addClass(o.a+"instructions-open")}),t(o.b+"instructions-close").click(function(){t(o.c+"instructions").removeClass(o.a+"instructions-open")}),2==p?(_(),b(h)):t(o.b+"check-button").on("click",function(){_(),b(h=Math.floor(Date.now()/1e3))})})}(jQuery,window,document);