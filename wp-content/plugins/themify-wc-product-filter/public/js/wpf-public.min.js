'use strict';(function(a){function y(a,c){var b;document.createEvent?(b=document.createEvent("HTMLEvents"),b.initEvent(c,!0,!0)):document.createEventObject&&(b=document.createEventObject(),b.eventType=c);b.eventName=c;a.dispatchEvent?a.dispatchEvent(b):a.fireEvent&&htmlEvents["on"+c]?a.fireEvent("on"+b.eventType,b):a[c]?a[c]():a["on"+c]&&a["on"+c]()}var p=!1,u=300,z=function(d){a.fn.slider&&0<a(".wpf_slider",d).length&&a(".wpf_slider",d).each(function(){var c=a(this).closest(".wpf_item"),b=c.find(".wpf_price_from"),
g=c.find(".wpf_price_to"),d=parseInt(a(this).data("min")),h=parseInt(a(this).data("max")),l=parseFloat(a(this).data("step")),m=c.find(".wpf_price_format").html(),f=c.closest("form"),n=parseInt(b.val()),k=parseInt(g.val());d===parseInt(d,10)&&h===parseInt(h,10)&&(n=n?n:d,k=k?k:h,a(this).slider({range:!0,min:d,step:isNaN(l)||0>=l?1:l,max:h,values:[n,k],slide:function(c,b){a(b.handle).find(".wpf_tooltip_amount").html(b.value)},stop:function(a,c){b.val(c.values[0]);g.val(c.values[1]);f.hasClass("wpf_submit_on_change")&&
f.submit()},create:function(c,d){b.val(n);g.val(k);c='<span class="wpf-slider-tooltip"><span class="wpf-slider-tooltip-inner">'+m.replace("0",'<span class="wpf_tooltip_amount">'+n+"</span>")+'</span><span class="wpf-slider-tooltip-arrow"></span></span>';d=a(this).children(".ui-slider-handle");d.first().html(c);d.last().html(c.replace(n,k))}}),a(this).slider().bind("slidechange",function(c,b){a(b.handle).find(".wpf_tooltip_amount").html(b.value)}))})},A=function(d){a("body").off("click.wpfGroupToggle").on("click.wpfGroupToggle",
".wpf_items_grouped:not(.wpf_layout_horizontal) .wpf_item_name",function(c){var b=a(this).next(".wpf_items_group"),d=a(this);if(0<d.closest(".wpf_item_onsale,.wpf_item_instock").length)return!0;c.preventDefault();b.is(":visible")?b.slideUp(function(){d.addClass("wpf_grouped_close")}):b.slideDown(function(){d.removeClass("wpf_grouped_close")})});a(".wpf_items_grouped:not(.wpf_layout_horizontal) .wpf_item_name",d).trigger("click")},t=function(d=null){var c=a(".wpf-search-container",d).first();0===c.length&&
(c=a(".wc-products.loops-wrapper",d),0===c.length&&(c=a(".woocommerce ul.products",d).parent(),0===c.length&&(c=a(".post",d).first())));return c.addClass("wpf-search-container")},B=function(){var d,c;a("body").off("submit.wpfForm").on("submit.wpfForm",".wpf_form",function(b){b.preventDefault();var g=a(this),e=t();b=g.serializeArray();var h={};for(f in b)if(a.trim(b[f].value)){var l=b[f].name.replace("[]","");h[l]=h[l]?h[l]+(","+b[f].value):b[f].value}p&&(h.append=1);g.find('input[name="wpf_page"]').val("");
if(!g.hasClass("wpf_form_ajax")){for(var m in h){var f=g.find('input[name="'+m+'[]"]');0<f.length&&f.prop({disabled:!0,name:""}).filter(":checked").prop({disabled:!1,name:m}).val(h[m])}a("body").off("submit",".wpf_form");g.submit();return!1}d=d||a(".products",e).data("isotope");c=c||"object"===typeof d&&"options"in d;var n=new URL(g.prop("action"));for(const a in h)n.searchParams.set(a,h[a]);a.ajax({url:n.toString(),type:"GET",beforeSend:function(){g.addClass("wpf-search-submit");e.addClass("wpf-container-wait")},
complete:function(){g.removeClass("wpf-search-submit");e.removeClass("wpf-container-wait")},success:function(b){if(b){var m=e,f=null,l=a(".products",e).attr("class");b=a(b);var k=t(b);e.data("slug",g.data("slug"));a.event.trigger("wpf_ajax_before_replace");p?(f=k.find(".product"),f.addClass("wpf_transient_product").removeClass("first last"),a(".products",e).first().append(f),k=l.match(/columns-(\d)/),null!==k&&(k=parseInt(k[1]),a(".products",e).first().find(".product:nth-child("+k+"n+1)").addClass("first").end().find(".product:nth-child("+
k+"n)").addClass("last")),b=b.find(".wpf_infinity a"),0<b.length&&a(".wpf_infinity a",e).data({current:b.data("current"),max:b.data("max")}),e.removeClass("wpf-infnitiy-scroll"),m=f.first(),delete h.append,setTimeout(function(){p=!1},200)):k.find(".product").length?(e.empty().append(k.removeAttr("class")),v(e)):e.empty().append(g.find(".wpf-no-products-found").clone().show());c&&a.fn.isotope?(b=a(".products",e),b.find(".grid-sizer, .gutter-sizer").length||b.prepend('<div class="grid-sizer"></div><div class="gutter-sizer"></div>'),
b.imagesLoaded().always(function(b){b=a(b.elements[0]);b.addClass(l+" masonry-done");null!==f&&(b.isotope("destroy"),f.addClass("wpf_transient_end_product"));g.hasClass("wpf_form_scroll")&&w(m);b.isotope(d.options)})):g.hasClass("wpf_form_scroll")&&w(m);null!==f&&f.addClass("wpf_transient_end_product");history.replaceState({},null,n.toString());void 0!==window.wp&&void 0!==window.wp.mediaelement&&window.wp.mediaelement.initialize();a.event.trigger("wpf_ajax_success");y(window,"resize")}}})})},w=function(d){0<
d.length&&a("html,body").animate({scrollTop:d.offset().top-a("#wpadminbar").outerHeight(!0)-10},1E3)},q=a(),r=function(d,c){q.length||(q=t());if(!p&&(c||window.scrollY>q.offset().top+q.outerHeight()-u||window.innerHeight+window.pageYOffset>=document.body.offsetHeight)){d=a(".wpf-search-container");var b=a(".wpf_infinity a",d),g=a(".wpf_form_"+d.data("slug"));if(0<g.length){var e=b.data("current");e<=b.data("max")&&(g.find('input[name="wpf_page"]').val(e),p=!0,c||d.addClass("wpf-infnitiy-scroll"),
g.submit(),e+1>b.data("max")&&(a(".wpf_infinity").remove(),c||a(this).off("scroll",r)))}}},C=function(){function d(a){var b=parseInt(a.text());if(!b){b=parseInt(a.closest(".woocommerce-pagination,.pagenav").find(".current").text());a.hasClass("next")?++b:--b;var c=/(?<=paged=)[^\bs=]+/;!b&&c.test(a.attr("href"))&&(b=a.attr("href").match(c)[0])}return b}if(0<a(".wpf_infinity_auto").length)a("#load-more").remove(),a(window).off("scroll",r).on("scroll",r);else if(0<a(".wpf_infinity").length)a(".wpf_infinity").closest(".wpf-hide-pagination").removeClass("wpf-hide-pagination"),
a("#load-more").remove(),a(".wpf-search-container").off("click.wpfInfinity").on("click.wpfInfinity",".wpf_infinity a",function(a){a.preventDefault();a.stopPropagation();r(a,1)});else a(".wpf-search-container").off("click.wpfPagination").on("click.wpfPagination",".wpf-pagination a,.woocommerce-pagination a",function(c){if("1"==(new URL(window.location.href)).searchParams.get("wpf")){var b=a(this).closest(".wpf-search-container").data("slug");b=a(".wpf_form_"+b);0<b.length&&0<b.find('input[name="wpf_page"]').length&&
(c.preventDefault(),b.find('input[name="wpf_page"]').val(d(a(this))),b.submit())}})},D=function(d){var c=[];a(".wpf_autocomplete input",d).each(function(){var b=a(this),d=0<b.closest(".wpf_item_sku").length?"sku":"title",e=b.next(".wpf-search-wait"),h=b.closest("form"),l=h.hasClass("wpf_submit_on_change");c[d]=[];a(this).autocomplete({minLength:0,classes:{"ui-autocomplete":"highlight"},source:function(b,g){var f=a.trim(b.term);l&&0===f.length&&0===b.term.length&&h.submit();1>f.length||(b.term=f,f=
f.toLowerCase(),f in c[d]?g(c[d][f]):(e.show(),b.key=d,b.action="wpf_autocomplete",a.post(wpf.ajaxurl,b,function(a,b,h){e.hide();for(const c in a){b=a[c];h=a[c].label;var m=document.createElement("textarea");m.innerHTML=h;b.label=m.innerText}c[d][f]=a;g(a)},"json")))},select:function(a,c){a:{try{new URL(c.item.value)}catch(n){a=!1;break a}a=!0}a?window.location=c.item.value:(b.val(c.item.value),l&&h.submit());return!1}}).focus(function(){0<a.trim(b.val()).length&&a(this).autocomplete("search")}).autocomplete("widget").addClass("wpf_ui_autocomplete")})},
E=function(){function d(c,b){b=b.closest(".wpf-search-container").data("slug");b=a(".wpf_form_"+b);0<b.length&&0<b.find('input[name="orderby"]').length&&(b.find('input[name="orderby"]').val(c),b.submit())}a(".wpf-search-container").delegate("form.woocommerce-ordering","submit",function(c){c.preventDefault();d(a(this).find("select").val(),a(this))}).delegate("select.orderby","change",function(c){d(a(this).val(),a(this))});a(".wpf-search-container").data("slug")||a(".wpf-search-container").data("slug",
a(".wpf_form").last().data("slug"))},F=function(d){0<a(".wpf_submit_on_change",d).length&&a(".wpf_submit_on_change",d).each(function(){var c=a(this);c.find('input[type!="text"],select').change(function(b){"price"==a(this).attr("name")&&a(this).is(":checked")&&(a(".wpf_price_range label").removeClass("active"),a(this).next("label").addClass("active"));c.submit()});c.find(".wpf_pa_link").click(function(b){b.preventDefault();a(this).find("input").prop("checked",!0).trigger("change")})})},G=function(d){var c=
a(".wpf_layout_horizontal",d);if(0<c.length){x(c);c.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock)").hover(function(){a(this).children(".wpf_items_group").stop().fadeIn()},function(){var b=a(this);if(0===b.closest(".wpf-search-submit").length){var c=!0;a(".wpf_ui_autocomplete",d).each(function(){if(a(this).is(":hover"))return c=!1});c&&b.children(".wpf_items_group").stop().fadeOut()}});navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/)&&
c.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock) .wpf_item_name").click(function(){var b=a(this).parent(),c=b.children(".wpf_items_group").is(":visible"),d=b.hasClass("wpf_touched");c&&!d?(b.addClass("wpf_touch_tap"),b.trigger("mouseleave")):c||d?d&&b.removeClass("wpf_touched"):(b.removeClass("wpf_touch_tap"),b.trigger("mouseenter"),b.removeClass("wpf_touched"))});var b;a(window).resize(function(a){a.isTrigger||(clearTimeout(b),b=setTimeout(function(){x(c)},500))})}},x=function(d){d.each(function(){var c=
a(this).find(".wpf_items_group"),b=Math.ceil(c.length/2),d=c.last().closest(".wpf_item"),e=d.offset().left;c.each(function(){var b=a(this).closest(".wpf_item");e<b.offset().left&&(d=b,e=b.offset().left)});var h=c.first().closest(".wpf_item").offset().left-2,l=e+d.outerWidth(!0);e=d=null;c.each(function(c){var d=a(this).closest(".wpf_item"),g=d.offset().left;c+1>=b?a(this).removeClass("wpf_left_tab").addClass("wpf_right_tab").outerWidth(Math.round(g+d.width()-h)):a(this).removeClass("wpf_right_tab").addClass("wpf_left_tab").outerWidth(Math.round(l-
g))})})},H=function(d){function c(a,c){c=a.find('[value="'+c+'"]').text();a.next(".select2").find('[title="'+c+'"]').addClass("wpf_disabled")}a(".wpf_form",d).find("select").each(function(){var b=a(this),d=b.prop("multiple"),e=d?b.data("selected"):!1;b.select2({dir:wpf.rtl?"rtl":"ltr",minimumResultsForSearch:10,dropdownCssClass:"wpf_selectbox",allowClear:!e&&d,placeholder:d?"":!1});e&&d&&(c(b,e),b.on("change",function(a){c(b,e)}))})},I=function(d){a(".wpf_reset_btn input",d).each(function(){this.addEventListener("click",
function(c){c.preventDefault();c=c.target;var b=c.closest(".wpf_item");b=null===b?c.closest(".wpf_form"):b;for(var d=b.querySelectorAll("input,select"),e=d.length-1;0<=e;e--)if("INPUT"===d[e].tagName)switch(d[e].type){case "text":d[e].value="";break;case "radio":case "checkbox":d[e].checked=!1}else d[e].selectedIndex=0,a(d[e]).val(null).trigger("change");a(b).find(".wpf_slider").each(function(){var b=a(this),c=b.data("min"),d=b.data("max");b.siblings(".wpf_price_from").val(c);b.siblings(".wpf_price_to").val(d);
b.slider("values",0,c);b.slider("values",1,d)});a(c.closest(".wpf_form")).submit()})})},v=function(d){d=d||a("body");a(".wpf_form",d).css("visibility","visible");G(d);A(d);a.fn.select2&&H(d);z(d);u=a(".wpf_form").data("infinitybuffer");C();E();F(d);D(d);B();I(d)};a(document).ready(function(){if(0<a(".wpf_form").length){a("body").addClass("woocommerce");var d,c=document.querySelector(".et_pb_module.et_pb_shop .woocommerce"),b=document.querySelector(".elementor-element.elementor-wc-products");null!==
c?(c.className+=" wpf-search-container",(c=c.querySelector("ul.products"))&&(d=c.className.match(/columns-(\d+)/))):null!==b?(b.className+=" wpf-search-container",d=b.querySelector("ul.products").className.match(/columns-(\d+)/)):(c=document.querySelector(".wc-products"),null!==c?d=c.className.match(/grid(\d+)/):(c=document.querySelector(".woocommerce > .products"),null!==c&&(d=c.className.match(/columns-(\d+)/),d=null!==d?d:c.parentElement.className.match(/columns-(\d+)/))));null!==d&&void 0!=d&&
(document.querySelector('[name="wpf_cols"]').value=d[1]);v()}})})(jQuery);
