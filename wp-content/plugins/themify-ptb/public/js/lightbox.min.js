(function(b,a,c){typeof define=="function"&&define.amd?define(["jquery"],function(d){return c(d,b,a),d.mobile}):c(b.jQuery,b,a)})(this,document,function(c,a,d,b){(function(aC,am,at,ao){function G(f){while(f&&typeof f.originalEvent!="undefined"){f=f.originalEvent}return f}function W(x,g){var k=x.type,y,f,u,j,r,m,e,q,w;x=aC.Event(x),x.type=g,y=x.originalEvent,f=aC.event.props,k.search(/^(mouse|click)/)>-1&&(f=aB);if(y){for(e=f.length,j;e;){j=f[--e],x[j]=y[j]}}k.search(/mouse(down|up)|click/)>-1&&!x.which&&(x.which=1);if(k.search(/^touch/)!==-1){u=G(y),k=u.touches,r=u.changedTouches,m=k&&k.length?k[0]:r&&r.length?r[0]:ao;if(m){for(q=0,w=al.length;q<w;q++){j=al[q],x[j]=m[j]}}}return x}function ae(e){var h={},g,f;while(e){g=aC.data(e,ay);for(f in g){g[f]&&(h[f]=h.hasVirtualBinding=!0)}e=e.parentNode}return h}function aw(e,g){var f;while(e){f=aC.data(e,ay);if(f&&(!g||f[g])){return e}e=e.parentNode}return null}function Y(){aA=!1}function ag(){aA=!0}function V(){ac=0,ak.length=0,au=!1,ag()}function X(){Y()}function aH(){ad(),aE=setTimeout(function(){aE=0,V()},aC.vmouse.resetTimerDuration)}function ad(){aE&&(clearTimeout(aE),aE=0)}function Q(f,h,g){var e;if(g&&g[f]||!g&&aw(h.target,f)){e=W(h,f),aC(h.target).trigger(e)}return e}function aa(e){var g=aC.data(e.target,an),f;!au&&(!ac||ac!==g)&&(f=Q("v"+e.type,e),f&&(f.isDefaultPrevented()&&e.preventDefault(),f.isPropagationStopped()&&e.stopPropagation(),f.isImmediatePropagationStopped()&&e.stopImmediatePropagation()))}function af(f){var j=G(f).touches,g,e,h;j&&j.length===1&&(g=f.target,e=ae(g),e.hasVirtualBinding&&(ac=aj++,aC.data(g,an,ac),ad(),X(),aD=!1,h=G(f).touches[0],az=h.pageX,aq=h.pageY,Q("vmouseover",f,e),Q("vmousedown",f,e)))}function ax(f){if(aA){return}aD||Q("vmousecancel",f,ae(f.target)),aD=!0,aH()}function ab(f){if(aA){return}var j=G(f).touches[0],h=aD,e=aC.vmouse.moveDistanceThreshold,g=ae(f.target);aD=aD||Math.abs(j.pageX-az)>e||Math.abs(j.pageY-aq)>e,aD&&!h&&Q("vmousecancel",f,g),Q("vmousemove",f,g),aH()}function Z(h){if(aA){return}ag();var f=ae(h.target),i,g;Q("vmouseup",h,f),aD||(i=Q("vclick",h,f),i&&i.isDefaultPrevented()&&(g=G(h).changedTouches[0],ak.push({touchID:ac,x:g.clientX,y:g.clientY}),au=!0)),Q("vmouseout",h,f),aD=!1,aH()}function ap(e){var g=aC.data(e,ay),f;if(g){for(f in g){if(g[f]){return !0}}}return !1}function K(){}function z(e){var f=e.substr(1);return{setup:function(){ap(this)||aC.data(this,ay,{});var g=aC.data(this,ay);g[e]=!0,av[e]=(av[e]||0)+1,av[e]===1&&aF.bind(f,aa),aC(this).bind(f,K),ah&&(av.touchstart=(av.touchstart||0)+1,av.touchstart===1&&aF.bind("touchstart",af).bind("touchend",Z).bind("touchmove",ab).bind("scroll",ax))},teardown:function(){--av[e],av[e]||aF.unbind(f,aa),ah&&(--av.touchstart,av.touchstart||aF.unbind("touchstart",af).unbind("touchmove",ab).unbind("touchend",Z).unbind("scroll",ax));var h=aC(this),g=aC.data(this,ay);g&&(g[e]=!1),h.unbind(f,K),ap(this)||h.removeData(ay)}}}var ay="virtualMouseBindings",an="virtualTouchID",ar="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),al="clientX clientY pageX pageY screenX screenY".split(" "),aG=aC.event.mouseHooks?aC.event.mouseHooks.props:[],aB=aC.event.props.concat(aG),av={},aE=0,az=0,aq=0,aD=!1,ak=[],au=!1,aA=!1,ah="addEventListener" in at,aF=aC(at),aj=1,ac=0,J,ai;aC.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(ai=0;ai<ar.length;ai++){aC.event.special[ar[ai]]=z(ar[ai])}ah&&at.addEventListener("click",function(s){var h=ak.length,e=s.target,k,g,q,p,m,j;if(h){k=s.clientX,g=s.clientY,J=aC.vmouse.clickDistanceThreshold,q=e;while(q){for(p=0;p<h;p++){m=ak[p],j=0;if(q===e&&Math.abs(m.x-k)<J&&Math.abs(m.y-g)<J||aC.data(q,an)===m.touchID){s.preventDefault(),s.stopPropagation();return}}q=q.parentNode}}},!0)})(c,a,d),function(f){f.mobile={}}(c),function(h,f){var g={touch:"ontouchend" in d};h.mobile.support=h.mobile.support||{},h.extend(h.support,g),h.extend(h.mobile.support,g)}(c),function(n,v,g){function j(f,u,e,l){var r=e.type;e.type=u,l?n.event.trigger(e,g,f):n.event.dispatch.call(f,e),e.type=r}var k=n(d),w=n.mobile.support.touch,h="touchmove scroll",q=w?"touchstart":"mousedown",p=w?"touchend":"mouseup",m=w?"touchmove":"mousemove";n.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,f){n.fn[f]=function(i){return i?this.bind(f,i):this.trigger(f)},n.attrFn&&(n.attrFn[f]=!0)}),n.event.special.scrollstart={enabled:!0,setup:function(){function l(i,r){o=r,j(f,o?"scrollstart":"scrollstop",i)}var f=this,u=n(f),o,e;u.bind(h,function(i){if(!n.event.special.scrollstart.enabled){return}o||l(i,!0),clearTimeout(e),e=setTimeout(function(){l(i,!1)},50)})},teardown:function(){n(this).unbind(h)}},n.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,i=n(e),f=!1;i.bind("vmousedown",function(t){function l(){clearTimeout(r)}function x(){l(),i.unbind("vclick",z).unbind("vmouseup",l),k.unbind("vmousecancel",x)}function z(o){x(),!f&&y===o.target?j(e,"tap",o):f&&o.preventDefault()}f=!1;if(t.which&&t.which!==1){return !1}var y=t.target,r;i.bind("vmouseup",l).bind("vclick",z),k.bind("vmousecancel",x),r=setTimeout(function(){n.event.special.tap.emitTapOnTaphold||(f=!0),j(e,"taphold",n.Event("taphold",{target:y}))},n.event.special.tap.tapholdThreshold)})},teardown:function(){n(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),k.unbind("vmousecancel")}},n.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var u=v.pageXOffset,o=v.pageYOffset,f=t.clientX,l=t.clientY;if(t.pageY===0&&Math.floor(l)>Math.floor(t.pageY)||t.pageX===0&&Math.floor(f)>Math.floor(t.pageX)){f-=u,l-=o}else{if(l<t.pageY-o||f<t.pageX-u){f=t.pageX-u,l=t.pageY-o}}return{x:f,y:l}},start:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,f=n.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[f.x,f.y],origin:n(e.target)}},stop:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,f=n.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[f.x,f.y]}},handleSwipe:function(f,u,o,e){if(u.time-f.time<n.event.special.swipe.durationThreshold&&Math.abs(f.coords[0]-u.coords[0])>n.event.special.swipe.horizontalDistanceThreshold&&Math.abs(f.coords[1]-u.coords[1])<n.event.special.swipe.verticalDistanceThreshold){var l=f.coords[0]>u.coords[0]?"swipeleft":"swiperight";return j(o,"swipe",n.Event("swipe",{target:e,swipestart:f,swipestop:u}),!0),j(o,l,n.Event(l,{target:e,swipestart:f,swipestop:u}),!0),!0}return !1},eventInProgress:!1,setup:function(){var e,l=this,i=n(l),f={};e=n.data(this,"mobile-events"),e||(e={length:0},n.data(this,"mobile-events",e)),e.length++,e.swipe=f,f.start=function(y){if(n.event.special.swipe.eventInProgress){return}n.event.special.swipe.eventInProgress=!0;var z,A=n.event.special.swipe.start(y),x=y.target,s=!1;f.move=function(o){if(!A||o.isDefaultPrevented()){return}z=n.event.special.swipe.stop(o),s||(s=n.event.special.swipe.handleSwipe(A,z,l,x),s&&(n.event.special.swipe.eventInProgress=!1)),Math.abs(A.coords[0]-z.coords[0])>n.event.special.swipe.scrollSupressionThreshold&&o.preventDefault()},f.stop=function(){s=!0,n.event.special.swipe.eventInProgress=!1,k.off(m,f.move),f.move=null},k.on(m,f.move).one(p,f.stop)},i.on(q,f.start)},teardown:function(){var e,f;e=n.data(this,"mobile-events"),e&&(f=e.swipe,delete e.swipe,e.length--,e.length===0&&n.removeData(this,"mobile-events")),f&&(f.start&&n(this).off(q,f.start),f.move&&k.off(m,f.move),f.stop&&k.off(p,f.stop))}},n.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,f){n.event.special[e]={setup:function(){n(this).bind(f,n.noop)},teardown:function(){n(this).unbind(f)}}})}(c,this)});!function(a){window.lightcase={cache:{},support:{},labels:{errorMessage:"Source could not be found...","sequenceInfo.of":" of ",close:"Close","navigator.prev":"Prev","navigator.next":"Next","navigator.play":"Play","navigator.pause":"Pause"},init:function(b){return this.each(function(){a(this).unbind("click").click(function(c){c.preventDefault(),a(this).lightcase("start",b)})})},start:function(b){lightcase.settings=a.extend(!0,{idPrefix:"lightcase-",classPrefix:"lightcase-",transition:"elastic",transitionIn:null,transitionOut:null,cssTransitions:!0,speedIn:250,speedOut:250,maxWidth:800,maxHeight:500,forceWidth:!1,forceHeight:!1,liveResize:!0,fullScreenModeForMobile:!0,mobileMatchExpression:/(iphone|ipod|ipad|android|blackberry|symbian)/,disableShrink:!1,shrinkFactor:0.75,overlayOpacity:0.9,slideshow:!1,timeout:5000,swipe:!0,useKeys:!0,navigateEndless:!0,closeOnOverlayClick:!0,title:null,caption:null,showTitle:!0,showCaption:!0,showSequenceInfo:!0,inline:{width:"auto",height:"auto"},ajax:{width:"auto",height:"auto",type:"get",dataType:"html",data:{}},iframe:{width:800,height:500,frameborder:0},flash:{width:400,height:205,wmode:"transparent"},video:{width:400,height:225,poster:"",preload:"auto",controls:!0,autobuffer:!0,autoplay:!0,loop:!1},attr:"data-rel",href:null,type:null,typeMapping:{image:"jpg,jpeg,gif,png,bmp",flash:"swf",video:"mp4,mov,ogv,ogg,webm",iframe:"html,php",ajax:"json,txt",inline:"#"},errorMessage:function(){return'<p class="'+lightcase.settings.classPrefix+'error">'+lightcase.labels.errorMessage+"</p>"},markup:function(){a("body").append($overlay=a('<div id="'+lightcase.settings.idPrefix+'overlay"></div>'),$loading=a('<div id="'+lightcase.settings.idPrefix+'loading" class="'+lightcase.settings.classPrefix+'icon-spin"></div>'),$case=a('<div id="'+lightcase.settings.idPrefix+'case" aria-hidden="true" role="dialog"></div>')),$case.after($nav=a('<div id="'+lightcase.settings.idPrefix+'nav"></div>')),$nav.append($close=a('<a href="#" class="'+lightcase.settings.classPrefix+'icon-close"><span>'+lightcase.labels.close+"</span></a>"),$prev=a('<a href="#" class="'+lightcase.settings.classPrefix+'icon-prev"><span>'+lightcase.labels["navigator.prev"]+"</span></a>").hide(),$next=a('<a href="#" class="'+lightcase.settings.classPrefix+'icon-next"><span>'+lightcase.labels["navigator.next"]+"</span></a>").hide(),$play=a('<a href="#" class="'+lightcase.settings.classPrefix+'icon-play"><span>'+lightcase.labels["navigator.play"]+"</span></a>").hide(),$pause=a('<a href="#" class="'+lightcase.settings.classPrefix+'icon-pause"><span>'+lightcase.labels["navigator.pause"]+"</span></a>").hide()),$case.append($content=a('<div class="'+lightcase.settings.classPrefix+'content"></div>'),$info=a('<div class="'+lightcase.settings.classPrefix+'info"></div>')),$content.append($contentInner=a('<div class="'+lightcase.settings.classPrefix+'contentInner"></div>')),$info.append($sequenceInfo=a('<div class="'+lightcase.settings.classPrefix+'sequenceInfo"></div>'),$title=a('<h4 class="'+lightcase.settings.classPrefix+'title"></h4>'),$caption=a('<p class="'+lightcase.settings.classPrefix+'caption"></p>'))},onInit:{},onStart:{},onFinish:{},onClose:{},onCleanup:{}},b),lightcase.callHooks(lightcase.settings.onInit),lightcase.objectData=lightcase.getObjectData(this),lightcase.cacheScrollPosition(),lightcase.watchScrollInteraction(),lightcase.addElements(),lightcase.lightcaseOpen(),lightcase.dimensions=lightcase.getDimensions()},getObjectData:function(c){var b={$link:c,title:lightcase.settings.title||c.attr("title"),caption:lightcase.settings.caption||c.children("img").attr("alt"),url:lightcase.verifyDataUrl(lightcase.settings.href||c.attr("data-href")||c.attr("href")),requestType:lightcase.settings.ajax.type,requestData:lightcase.settings.ajax.data,requestDataType:lightcase.settings.ajax.dataType,rel:c.attr(lightcase.settings.attr),type:lightcase.settings.type||lightcase.verifyDataType(c.attr("data-href")||c.attr("href")),isPartOfSequence:lightcase.isPartOfSequence(c.attr(lightcase.settings.attr),":"),isPartOfSequenceWithSlideshow:lightcase.isPartOfSequence(c.attr(lightcase.settings.attr),":slideshow"),currentIndex:a("["+lightcase.settings.attr+'="'+c.attr(lightcase.settings.attr)+'"]').index(c),sequenceLength:a("["+lightcase.settings.attr+'="'+c.attr(lightcase.settings.attr)+'"]').length};return b.sequenceInfo=b.currentIndex+1+lightcase.labels["sequenceInfo.of"]+b.sequenceLength,b},isPartOfSequence:function(f,c){var d=a("["+lightcase.settings.attr+'="'+f+'"]'),b=new RegExp(c);return b.test(f)&&d.length>1?!0:!1},isSlideshowEnabled:function(){return !lightcase.objectData.isPartOfSequence||lightcase.settings.slideshow!==!0&&lightcase.objectData.isPartOfSequenceWithSlideshow!==!0?!1:!0},loadContent:function(){lightcase.cache.originalObject&&lightcase.restoreObject(),lightcase.createObject()},createObject:function(){var b;switch(lightcase.objectData.type){case"image":b=a(new Image),b.attr({src:lightcase.objectData.url,alt:lightcase.objectData.title});break;case"inline":b=a('<div class="'+lightcase.settings.classPrefix+'inlineWrap"></div>'),b.html(lightcase.cloneObject(a(lightcase.objectData.url))),a.each(lightcase.settings.inline,function(d,c){b.attr("data-"+d,c)});break;case"ajax":b=a('<div class="'+lightcase.settings.classPrefix+'inlineWrap"></div>'),a.each(lightcase.settings.ajax,function(d,c){"data"!==d&&b.attr("data-"+d,c)});break;case"flash":b=a('<embed src="'+lightcase.objectData.url+'" type="application/x-shockwave-flash"></embed>'),a.each(lightcase.settings.flash,function(d,c){b.attr(d,c)});break;case"video":b=a("<video></video>"),b.attr("src",lightcase.objectData.url),a.each(lightcase.settings.video,function(d,c){b.attr(d,c)});break;default:b=a("<iframe></iframe>"),b.attr({src:lightcase.objectData.url}),a.each(lightcase.settings.iframe,function(d,c){b.attr(d,c)})}lightcase.addObject(b),lightcase.loadObject(b)},addObject:function(b){$contentInner.html(b),lightcase.loading("start"),lightcase.callHooks(lightcase.settings.onStart),lightcase.settings.showSequenceInfo===!0&&lightcase.objectData.isPartOfSequence?($sequenceInfo.html(lightcase.objectData.sequenceInfo),$sequenceInfo.show()):($sequenceInfo.empty(),$sequenceInfo.hide()),lightcase.settings.showTitle===!0&&void 0!==lightcase.objectData.title&&""!==lightcase.objectData.title?($title.html(lightcase.objectData.title),$title.show()):($title.empty(),$title.hide()),lightcase.settings.showCaption===!0&&void 0!==lightcase.objectData.caption&&""!==lightcase.objectData.caption?($caption.html(lightcase.objectData.caption),$caption.show()):($caption.empty(),$caption.hide())},loadObject:function(b){switch(lightcase.objectData.type){case"inline":a(lightcase.objectData.url)?lightcase.showContent(b):lightcase.error();break;case"ajax":a.ajax(a.extend({},lightcase.settings.ajax,{url:lightcase.objectData.url,type:lightcase.objectData.requestType,dataType:lightcase.objectData.requestDataType,data:lightcase.objectData.requestData,success:function(c){"json"===lightcase.objectData.requestDataType?lightcase.objectData.data=c:b.html(c),lightcase.showContent(b)},error:function(){lightcase.error()}}));break;case"flash":lightcase.showContent(b);break;case"video":"function"==typeof b.get(0).canPlayType||0===$case.find("video").length?lightcase.showContent(b):lightcase.error();break;default:lightcase.objectData.url?(b.load(function(){lightcase.showContent(b)}),b.error(function(){lightcase.error()})):lightcase.error()}},error:function(){lightcase.objectData.type="error";var b=a('<div class="'+lightcase.settings.classPrefix+'inlineWrap"></div>');b.html(lightcase.settings.errorMessage),$contentInner.html(b),lightcase.showContent($contentInner)},calculateDimensions:function(b){lightcase.cleanupDimensions();var c={objectWidth:b.attr(b.attr("width")?"width":"data-width"),objectHeight:b.attr(b.attr("height")?"height":"data-height")};if(!lightcase.settings.disableShrink){switch(c.maxWidth=parseInt(lightcase.dimensions.windowWidth*lightcase.settings.shrinkFactor),c.maxHeight=parseInt(lightcase.dimensions.windowHeight*lightcase.settings.shrinkFactor),c.maxWidth>lightcase.settings.maxWidth&&(c.maxWidth=lightcase.settings.maxWidth),c.maxHeight>lightcase.settings.maxHeight&&(c.maxHeight=lightcase.settings.maxHeight),c.differenceWidthAsPercent=parseInt(100/c.maxWidth*c.objectWidth),c.differenceHeightAsPercent=parseInt(100/c.maxHeight*c.objectHeight),lightcase.objectData.type){case"image":case"flash":case"video":c.differenceWidthAsPercent>100&&c.differenceWidthAsPercent>c.differenceHeightAsPercent&&(c.objectWidth=c.maxWidth,c.objectHeight=parseInt(c.objectHeight/c.differenceWidthAsPercent*100)),c.differenceHeightAsPercent>100&&c.differenceHeightAsPercent>c.differenceWidthAsPercent&&(c.objectWidth=parseInt(c.objectWidth/c.differenceHeightAsPercent*100),c.objectHeight=c.maxHeight),c.differenceHeightAsPercent>100&&c.differenceWidthAsPercent<c.differenceHeightAsPercent&&(c.objectWidth=parseInt(c.maxWidth/c.differenceHeightAsPercent*c.differenceWidthAsPercent),c.objectHeight=c.maxHeight);break;case"error":!isNaN(c.objectWidth)&&c.objectWidth>c.maxWidth&&(c.objectWidth=c.maxWidth);break;default:(isNaN(c.objectWidth)||c.objectWidth>c.maxWidth)&&!lightcase.settings.forceWidth&&(c.objectWidth=c.maxWidth),(isNaN(c.objectHeight)&&"auto"!==c.objectHeight||c.objectHeight>c.maxHeight)&&!lightcase.settings.forceHeight&&(c.objectHeight=c.maxHeight)}}lightcase.adjustDimensions(b,c)},adjustDimensions:function(b,c){b.css({width:c.objectWidth,height:c.objectHeight,"max-width":b.attr("data-max-width")?b.attr("data-max-width"):c.maxWidth,"max-height":b.attr("data-max-height")?b.attr("data-max-height"):c.maxHeight}),$contentInner.css({width:b.outerWidth(),height:b.outerHeight(),"max-width":"100%"}),$case.css({width:$contentInner.outerWidth()}),$case.css({"margin-top":parseInt(-($case.outerHeight()/2)),"margin-left":parseInt(-($case.outerWidth()/2))})},loading:function(b){"start"===b?($case.addClass(lightcase.settings.classPrefix+"loading"),$loading.show()):"end"===b&&($case.removeClass(lightcase.settings.classPrefix+"loading"),$loading.hide())},getDimensions:function(){return{windowWidth:a(window).innerWidth(),windowHeight:a(window).innerHeight()}},verifyDataUrl:function(b){return b&&void 0!==b&&""!==b?(b.indexOf("#")>-1&&(b=b.split("#"),b="#"+b[b.length-1]),b.toString()):!1},verifyDataType:function(g){var g=lightcase.verifyDataUrl(g),j=lightcase.settings.typeMapping;if(g){for(var f in j){for(var h=j[f].split(","),d=0;d<h.length;d++){var m=h[d].toLowerCase(),k=new RegExp(".("+m+")$","i"),b=g.toLowerCase().split("?")[0].substr(-5);if(k.test(b)===!0){return f}if("inline"===f&&(g.indexOf(m)>-1||!g)){return f}}}}return"iframe"},addElements:function(){"undefined"!=typeof $case&&a("#"+$case.attr("id")).length||lightcase.settings.markup()},showContent:function(b){switch($case.attr("data-type",lightcase.objectData.type),lightcase.cache.object=b,lightcase.calculateDimensions(b),lightcase.callHooks(lightcase.settings.onFinish),lightcase.settings.transitionIn){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":lightcase.transition.scroll($case,"in",lightcase.settings.speedIn),lightcase.transition.fade($contentInner,"in",lightcase.settings.speedIn);break;case"elastic":$case.css("opacity")<1&&(lightcase.transition.zoom($case,"in",lightcase.settings.speedIn),lightcase.transition.fade($contentInner,"in",lightcase.settings.speedIn));case"fade":case"fadeInline":lightcase.transition.fade($case,"in",lightcase.settings.speedIn),lightcase.transition.fade($contentInner,"in",lightcase.settings.speedIn);break;default:lightcase.transition.fade($case,"in",0)}lightcase.loading("end"),lightcase.busy=!1},processContent:function(){switch(lightcase.busy=!0,lightcase.settings.transitionOut){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":$case.is(":hidden")?(lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()}),lightcase.transition.fade($contentInner,"out",0)):lightcase.transition.scroll($case,"out",lightcase.settings.speedOut,function(){lightcase.loadContent()});break;case"fade":$case.is(":hidden")?lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()}):lightcase.transition.fade($case,"out",lightcase.settings.speedOut,0,function(){lightcase.loadContent()});break;case"fadeInline":case"elastic":$case.is(":hidden")?lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()}):lightcase.transition.fade($contentInner,"out",lightcase.settings.speedOut,0,function(){lightcase.loadContent()});break;default:lightcase.transition.fade($case,"out",0,0,function(){lightcase.loadContent()})}},handleEvents:function(){lightcase.unbindEvents(),$nav.children().not($close).hide(),lightcase.isSlideshowEnabled()&&($nav.hasClass(lightcase.settings.classPrefix+"paused")?lightcase.stopTimeout():lightcase.startTimeout()),lightcase.settings.liveResize&&lightcase.watchResizeInteraction(),$close.click(function(b){b.preventDefault(),lightcase.lightcaseClose()}),lightcase.settings.closeOnOverlayClick===!0&&$overlay.css("cursor","pointer").click(function(b){b.preventDefault(),lightcase.lightcaseClose()}),lightcase.settings.useKeys===!0&&lightcase.addKeyEvents(),lightcase.objectData.isPartOfSequence&&($nav.attr("data-ispartofsequence",!0),lightcase.nav=lightcase.setNavigation(),$prev.click(function(b){b.preventDefault(),$prev.unbind("click"),lightcase.cache.action="prev",lightcase.nav.$prevItem.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout()}),$next.click(function(b){b.preventDefault(),$next.unbind("click"),lightcase.cache.action="next",lightcase.nav.$nextItem.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout()}),lightcase.isSlideshowEnabled()&&($play.click(function(b){b.preventDefault(),lightcase.startTimeout()}),$pause.click(function(b){b.preventDefault(),lightcase.stopTimeout()})),lightcase.settings.swipe===!0&&(a.isPlainObject(a.event.special.swipeleft)&&$case.on("swipeleft",function(b){b.preventDefault(),$next.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout()}),a.isPlainObject(a.event.special.swiperight)&&$case.on("swiperight",function(b){b.preventDefault(),$prev.click(),lightcase.isSlideshowEnabled()&&lightcase.stopTimeout()})))},addKeyEvents:function(){a(document).bind("keyup.lightcase",function(b){if(!lightcase.busy){switch(b.keyCode){case 27:$close.click();break;case 37:lightcase.objectData.isPartOfSequence&&$prev.click();break;case 39:lightcase.objectData.isPartOfSequence&&$next.click()}}})},startTimeout:function(){$play.hide(),$pause.show(),lightcase.cache.action="next",$nav.removeClass(lightcase.settings.classPrefix+"paused"),lightcase.timeout=setTimeout(function(){lightcase.nav.$nextItem.click()},lightcase.settings.timeout)},stopTimeout:function(){$play.show(),$pause.hide(),$nav.addClass(lightcase.settings.classPrefix+"paused"),clearTimeout(lightcase.timeout)},setNavigation:function(){var g=a("["+lightcase.settings.attr+'="'+lightcase.objectData.rel+'"]'),d=lightcase.objectData.currentIndex,f=d-1,b=d+1,j=lightcase.objectData.sequenceLength-1,h={$prevItem:g.eq(f),$nextItem:g.eq(b)};return d>0?$prev.show():h.$prevItem=g.eq(j),j>=b?$next.show():h.$nextItem=g.eq(0),lightcase.settings.navigateEndless===!0&&($prev.show(),$next.show()),h},cloneObject:function(c){var d=c.clone(),b=c.attr("id");return c.is(":hidden")?(lightcase.cacheObjectData(c),c.attr("id",lightcase.settings.idPrefix+"temp-"+b).empty()):d.removeAttr("id"),d.show()},isMobileDevice:function(){var b=navigator.userAgent.toLowerCase(),c=b.match(lightcase.settings.mobileMatchExpression);return c?!0:!1},isTransitionSupported:function(){var f=a("body").get(0),c=!1,d={transition:"",WebkitTransition:"-webkit-",MozTransition:"-moz-",OTransition:"-o-",MsTransition:"-ms-"};for(var b in d){d.hasOwnProperty(b)&&b in f.style&&(lightcase.support.transition=d[b],c=!0)}return c},transition:{fade:function(p,j,h,q,m){var k="in"===j,f={},g=p.css("opacity"),d={},b=q?q:k?1:0;(lightcase.open||!k)&&(f.opacity=g,d.opacity=b,p.css(f).show(),lightcase.support.transitions?(d[lightcase.support.transition+"transition"]=h+"ms ease",setTimeout(function(){p.css(d),setTimeout(function(){p.css(lightcase.support.transition+"transition",""),!m||!lightcase.open&&k||m()},h)},15)):(p.stop(),p.animate(d,h,m)))},scroll:function(y,u,m,z){var x="in"===u,w=x?lightcase.settings.transitionIn:lightcase.settings.transitionOut,j="left",k={},f=x?0:1,b=x?"-50%":"50%",p={},q=x?1:0,v=x?"50%":"-50%";if(lightcase.open||!x){switch(w){case"scrollTop":j="top";break;case"scrollRight":b=x?"150%":"50%",v=x?"50%":"150%";break;case"scrollBottom":j="top",b=x?"150%":"50%",v=x?"50%":"150%";break;case"scrollHorizontal":b=x?"150%":"50%",v=x?"50%":"-50%";break;case"scrollVertical":j="top",b=x?"-50%":"50%",v=x?"50%":"150%"}if("prev"===lightcase.cache.action){switch(w){case"scrollHorizontal":b=x?"-50%":"50%",v=x?"50%":"150%";break;case"scrollVertical":b=x?"150%":"50%",v=x?"50%":"-50%"}}k.opacity=f,k[j]=b,p.opacity=q,p[j]=v,y.css(k).show(),lightcase.support.transitions?(p[lightcase.support.transition+"transition"]=m+"ms ease",setTimeout(function(){y.css(p),setTimeout(function(){y.css(lightcase.support.transition+"transition",""),!z||!lightcase.open&&x||z()},m)},15)):(y.stop(),y.animate(p,m,z))}},zoom:function(u,m,j,v){var q="in"===m,p={},f=u.css("opacity"),g=q?"scale(0.75)":"scale(1)",d={},b=q?1:0,k=q?"scale(1)":"scale(0.75)";(lightcase.open||!q)&&(p.opacity=f,p[lightcase.support.transition+"transform"]=g,d.opacity=b,u.css(p).show(),lightcase.support.transitions?(d[lightcase.support.transition+"transform"]=k,d[lightcase.support.transition+"transition"]=j+"ms ease",setTimeout(function(){u.css(d),setTimeout(function(){u.css(lightcase.support.transition+"transform",""),u.css(lightcase.support.transition+"transition",""),!v||!lightcase.open&&q||v()},j)},15)):(u.stop(),u.animate(d,j,v)))}},callHooks:function(b){"object"==typeof b&&a.each(b,function(c,d){"function"==typeof d&&d()})},cacheObjectData:function(b){a.data(b,"cache",{id:b.attr("id"),content:b.html()}),lightcase.cache.originalObject=b},restoreObject:function(){var b=a('[id^="'+lightcase.settings.idPrefix+'temp-"]');b.attr("id",a.data(lightcase.cache.originalObject,"cache").id),b.html(a.data(lightcase.cache.originalObject,"cache").content)},resize:function(){lightcase.open&&(lightcase.isSlideshowEnabled()&&lightcase.stopTimeout(),lightcase.dimensions=lightcase.getDimensions(),lightcase.calculateDimensions(lightcase.cache.object))},cacheScrollPosition:function(){var d=a(window),b=a(document),c={top:d.scrollTop(),left:d.scrollLeft()};lightcase.cache.scrollPosition=lightcase.cache.scrollPosition||{},b.width()>d.width()&&(lightcase.cache.scrollPosition.left=c.left),b.height()>d.height()&&(lightcase.cache.scrollPosition.top=c.top)},watchResizeInteraction:function(){a(window).resize(lightcase.resize)},unwatchResizeInteraction:function(){a(window).off("resize",lightcase.resize)},watchScrollInteraction:function(){a(window).scroll(lightcase.cacheScrollPosition)},unwatchScrollInteraction:function(){a(window).off("scroll",lightcase.cacheScrollPosition)},restoreScrollPosition:function(){a(window).scrollTop(parseInt(lightcase.cache.scrollPosition.top)).scrollLeft(parseInt(lightcase.cache.scrollPosition.left)).resize()},switchToFullScreenMode:function(){lightcase.settings.shrinkFactor=1,lightcase.settings.overlayOpacity=1,a("html").addClass(lightcase.settings.classPrefix+"fullScreenMode")},lightcaseOpen:function(){switch(lightcase.open=!0,lightcase.support.transitions=lightcase.settings.cssTransitions?lightcase.isTransitionSupported():!1,lightcase.support.mobileDevice=lightcase.isMobileDevice(),lightcase.support.mobileDevice&&(a("html").addClass(lightcase.settings.classPrefix+"isMobileDevice"),lightcase.settings.fullScreenModeForMobile&&lightcase.switchToFullScreenMode()),lightcase.settings.transitionIn||(lightcase.settings.transitionIn=lightcase.settings.transition),lightcase.settings.transitionOut||(lightcase.settings.transitionOut=lightcase.settings.transition),lightcase.settings.transitionIn){case"fade":case"fadeInline":case"elastic":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":$case.is(":hidden")&&($close.css("opacity",0),$overlay.css("opacity",0),$case.css("opacity",0),$contentInner.css("opacity",0)),lightcase.transition.fade($overlay,"in",lightcase.settings.speedIn,lightcase.settings.overlayOpacity,function(){lightcase.transition.fade($close,"in",lightcase.settings.speedIn),lightcase.handleEvents(),lightcase.processContent()});break;default:lightcase.transition.fade($overlay,"in",0,lightcase.settings.overlayOpacity,function(){lightcase.transition.fade($close,"in",0),lightcase.handleEvents(),lightcase.processContent()})}a("html").addClass(lightcase.settings.classPrefix+"open"),$case.attr("aria-hidden","false")},lightcaseClose:function(){switch(lightcase.open=!1,lightcase.isSlideshowEnabled()&&(lightcase.stopTimeout(),$nav.removeClass(lightcase.settings.classPrefix+"paused")),$loading.hide(),lightcase.unbindEvents(),lightcase.unwatchResizeInteraction(),lightcase.unwatchScrollInteraction(),a("html").removeClass(lightcase.settings.classPrefix+"open"),$case.attr("aria-hidden","true"),$nav.children().hide(),lightcase.restoreScrollPosition(),lightcase.callHooks(lightcase.settings.onClose),lightcase.settings.transitionOut){case"fade":case"fadeInline":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":lightcase.transition.fade($case,"out",lightcase.settings.speedOut,0,function(){lightcase.transition.fade($overlay,"out",lightcase.settings.speedOut,0,function(){lightcase.cleanup()})});break;case"elastic":lightcase.transition.zoom($case,"out",lightcase.settings.speedOut,function(){lightcase.transition.fade($overlay,"out",lightcase.settings.speedOut,0,function(){lightcase.cleanup()})});break;default:lightcase.cleanup()}},unbindEvents:function(){$overlay.unbind("click"),a(document).unbind("keyup.lightcase"),$case.unbind("swipeleft").unbind("swiperight"),$nav.children("a").unbind("click"),$close.unbind("click")},cleanupDimensions:function(){var b=$contentInner.css("opacity");$case.css({width:"",height:"",top:"",left:"","margin-top":"","margin-left":""}),$contentInner.removeAttr("style").css("opacity",b),$contentInner.children().removeAttr("style")},cleanup:function(){lightcase.cleanupDimensions(),$loading.hide(),$overlay.hide(),$case.hide(),$nav.children().hide(),$case.removeAttr("data-type"),$nav.removeAttr("data-ispartofsequence"),$contentInner.empty().hide(),$info.children().empty(),lightcase.cache.originalObject&&lightcase.restoreObject(),lightcase.callHooks(lightcase.settings.onCleanup),lightcase.cache={}}},a.fn.lightcase=function(b){return lightcase[b]?lightcase[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.lightcase"):lightcase.init.apply(this,arguments)}}(jQuery);