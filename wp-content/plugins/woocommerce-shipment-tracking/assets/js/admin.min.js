jQuery(function(i){var t={init:function(){i("#woocommerce-shipment-tracking").on("click","a.delete-tracking",this.delete_tracking).on("click","button.button-show-form",this.show_form).on("click","button.button-save-form",this.save_form)},save_form:function(){if(!i("input#tracking_number").val())return!1;i("#shipment-tracking-form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var t={action:"wc_shipment_tracking_save_form",order_id:woocommerce_admin_meta_boxes.post_id,tracking_provider:i("#tracking_provider").val(),custom_tracking_provider:i("#custom_tracking_provider").val(),custom_tracking_link:i("input#custom_tracking_link").val(),tracking_number:i("input#tracking_number").val(),date_shipped:i("input#date_shipped").val(),security:i("#wc_shipment_tracking_create_nonce").val()};return i.post(woocommerce_admin_meta_boxes.ajax_url,t,function(t){i("#shipment-tracking-form").unblock(),"-1"!=t&&(i("#shipment-tracking-form").hide(),i("#woocommerce-shipment-tracking #tracking-items").append(t),i("#woocommerce-shipment-tracking button.button-show-form").show(),i("#tracking_provider").selectedIndex=0,i("#custom_tracking_provider").val(""),i("input#custom_tracking_link").val(""),i("input#tracking_number").val(""),i("input#date_shipped").val(""),i("p.preview_tracking_link").hide())}),!1},show_form:function(){i("#shipment-tracking-form").show(),i("#woocommerce-shipment-tracking button.button-show-form").hide()},delete_tracking:function(){var e=i(this).attr("rel");i("#tracking-item-"+e).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var t={action:"wc_shipment_tracking_delete_item",order_id:woocommerce_admin_meta_boxes.post_id,tracking_id:e,security:i("#wc_shipment_tracking_delete_nonce").val()};return i.post(woocommerce_admin_meta_boxes.ajax_url,t,function(t){i("#tracking-item-"+e).unblock(),"-1"!=t&&i("#tracking-item-"+e).remove()}),!1},refresh_items:function(){var t={action:"wc_shipment_tracking_get_items",order_id:woocommerce_admin_meta_boxes.post_id,security:i("#wc_shipment_tracking_get_nonce").val()};i("#woocommerce-shipment-tracking").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),i.post(woocommerce_admin_meta_boxes.ajax_url,t,function(t){i("#woocommerce-shipment-tracking").unblock(),"-1"!=t&&i("#woocommerce-shipment-tracking #tracking-items").html(t)})}};t.init(),window.wc_shipment_tracking_refresh=t.refresh_items});
